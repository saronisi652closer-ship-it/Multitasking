<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />

  <title>在庫管理（自動購入リスト）</title>

  <!-- PWA -->
  <link rel="manifest" href="./manifest.webmanifest" />
  <meta name="theme-color" content="#0b0d12" />
  <link rel="icon" href="./icon-192.png" />
  <link rel="apple-touch-icon" href="./icon-192.png" />

  <!-- =========================
       CSSは「ここ」に全部入れる
       （styleは1個だけ）
       ========================= -->
  <style>
    :root{
      --bg:#0b0d12;
      --card:#14161d;
      --muted:#9aa4b2;
      --text:#e8eef7;
      --accent:#7aa2ff;
      --danger:#ff5c7a;
      --warn:#ffcc66;
      --ok:#4de1a6;
      --shadow:0 8px 24px rgba(0,0,0,.35);
      --radius:16px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP",sans-serif;
      background: radial-gradient(1200px 700px at 10% 0%, rgba(122,162,255,.18), transparent 55%),
                  radial-gradient(900px 600px at 95% 10%, rgba(255,92,122,.12), transparent 60%),
                  var(--bg);
      color:var(--text);
      -webkit-text-size-adjust:100%;
    }

    /* 例：レイアウトの最低限（あなたの既存CSSに置き換えてOK） */
    header{
      position:sticky; top:0; z-index:10;
      padding:12px 14px 10px;
      backdrop-filter: blur(12px);
      background: rgba(11,13,18,.72);
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    main{padding:14px; max-width:980px; margin:0 auto;}
    .card{
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
      margin-bottom:12px;
    }

    /* =========================
       Slim mode（強制したいなら）
       body class="compact" を付ける
       ========================= */
    .compact .sub,
    .compact .noticebar,
    .compact .hint,
    .compact .kpi,
    .compact small { display:none !important; }

    /* ↓↓↓ あなたの既存CSSをここに全部貼る（上書きOK） ↓↓↓ */

  </style>
</head>

<!-- Slim mode強制したいなら class="compact" を付ける -->
<body class="compact">

  <header>
    <div class="topbar">
      <div class="title" style="font-weight:1000; letter-spacing:.04em;">在庫管理</div>
      <div class="pill" style="display:inline-flex; align-items:center; gap:8px;">
        <span style="opacity:.8;">自動購入リスト</span>
      </div>
    </div>
  </header>

  <main>
    <div class="card" id="app">
      <div style="padding:12px 12px;">
        <!-- ここにあなたのHTML本体を入れる（既存のUI） -->
        <div style="opacity:.85;">ここに在庫UI（フォーム/リスト/ボタン等）を配置</div>
      </div>
    </div>
  </main>

  <!-- =========================
       JSは「ここ」に全部入れる
       （scriptはbodyの最後）
       ========================= -->
  <script>
    // ✅ まずはService Worker登録だけ安全に固定
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./service-worker.js").catch(() => {});
      });
    }

    // ↓↓↓ あなたの既存JSをここに全部貼る（または別ファイル化してOK） ↓↓↓
    // 注意：途中に変な文字（例：る）を混ぜないこと
  </script>

</body>
</html>
